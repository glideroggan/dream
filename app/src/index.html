<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wallet Application</title>
    <!-- Load main.ts as early as possible -->
    <!-- <script type="module" src="./main.ts" async></script> -->
    <script type="importmap">
      {
        "imports": {
          "@microsoft/fast-element": "https://cdn.jsdelivr.net/npm/@microsoft/fast-element@2.1.0/+esm",
          "@chart/js": "https://cdn.jsdelivr.net/npm/chart.js@4.4.8/+esm",
          "@widgets/account": "/widgets/account-widget/account-widget.js",
          "@widgets/welcome": "/widgets/welcome/welcome-widget.js",
          "@widgets/swish": "/widgets/swish-widget.js",
          "@widgets/slow": "/widgets/slow-widget/slow-widget.js",
          "@widgets/error": "/widgets/error-widget/error-widget.js",
          "@widgets/financial-health": "/widgets/financial-health-widget/financial-health-widget.js",
          "@workflows/transfer": "/workflows/transfer/transfer-workflow.js",
          "@workflows/create-account": "/workflows/create-account/create-account-workflow.js",
          "@workflows/swish-workflow": "/workflows/swish-workflow.js",
          "@workflows/account-info":  "/workflows/account-info-workflow.js",
          "@workflows/kyc": "/workflows/kyc/kyc-workflow.js",
          "@workflows/add-contact-workflow": "/workflows/payments/add-contact-workflow.js",
          "@pages/dashboard": "/pages/dashboard-page.js",
          "@pages/investments": "/pages/investments-page.js",
          "@pages/savings": "/pages/savings-page.js"
        }
      }
    </script>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      }
      
      /* Improve sidebar styling */
      dream-sidebar {
        color: #fff;
        --sidebar-bg: #2c3e50;
        --text-color: #ecf0f1;
        --border-color: #34495e;
        --hover-bg: #34495e;
      }
    </style>
  </head>

  <body>
    <!-- Set initial widgets directly in the HTML -->
    <dream-app></dream-app>
    
    <!-- Load widgets before main bundle -->
    <script async defer type="module" src="/main.js"></script>
  </body>
</html>
